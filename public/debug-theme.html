<!DOCTYPE html>
<html>
<head>
    <title>Theme Debug</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 p-8">
    <div class="max-w-md mx-auto bg-white dark:bg-gray-800 p-6 rounded-lg">
        <h1 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Theme Debug</h1>
        
        <div class="space-y-4">
            <div>
                <strong>Current localStorage value:</strong>
                <span id="currentValue" class="text-blue-600 dark:text-blue-400"></span>
            </div>
            
            <div>
                <strong>Current theme:</strong>
                <span id="currentTheme" class="text-green-600 dark:text-green-400"></span>
            </div>
            
            <div class="space-x-2">
                <button onclick="setLight()" class="bg-yellow-500 text-white px-4 py-2 rounded">Set Light</button>
                <button onclick="setDark()" class="bg-gray-800 text-white px-4 py-2 rounded">Set Dark</button>
                <button onclick="clearStorage()" class="bg-red-500 text-white px-4 py-2 rounded">Clear</button>
            </div>
            
            <div>
                <a href="/" class="text-blue-600 dark:text-blue-400 underline">Go to Homepage</a> |
                <a href="/leaderboard" class="text-blue-600 dark:text-blue-400 underline">Leaderboard</a> |
                <a href="/admin" class="text-blue-600 dark:text-blue-400 underline">Admin</a>
            </div>
        </div>
    </div>

    <script>
        function updateDisplay() {
            const value = localStorage.getItem('darkMode');
            const isDark = document.documentElement.classList.contains('dark');
            
            document.getElementById('currentValue').textContent = value || 'null';
            document.getElementById('currentTheme').textContent = isDark ? 'Dark' : 'Light';
        }
        
        function setLight() {
            localStorage.setItem('darkMode', 'false');
            document.documentElement.classList.remove('dark');
            updateDisplay();
            console.log('Debug - Set to light mode');
        }
        
        function setDark() {
            localStorage.setItem('darkMode', 'true');
            document.documentElement.classList.add('dark');
            updateDisplay();
            console.log('Debug - Set to dark mode');
        }
        
        function clearStorage() {
            localStorage.removeItem('darkMode');
            document.documentElement.classList.remove('dark');
            updateDisplay();
            console.log('Debug - Cleared storage');
        }
        
        // Initialize
        const saved = localStorage.getItem('darkMode');
        console.log('Debug - Initial saved value:', saved);
        if (saved === 'true') {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
        
        updateDisplay();
        setInterval(updateDisplay, 500);
    </script>
</body>
</html>
